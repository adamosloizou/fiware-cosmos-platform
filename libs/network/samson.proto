package ss.network;

message EndPoint
{
	required string  ip   = 1;   // Server
	required sint32  port = 2;   // Port
	required sint32  type = 3;   // Port
	optional string  name = 4;   // Name for debugging
}



message EndPointVector
{
	repeated EndPoint item=1;
}



message Hello
{
	required string  name    = 1;  // The name of the endpoint
	required sint32  workers = 2;  // Number of workers connected to endpoint
	required sint32  type    = 3;  // enum Endpoint::Type
	optional string  ip      = 4;  // IP address
	optional sint32  port    = 5;  // Listen port

}



message Message
{
	required int32 code               = 1;            // message code
	required int32 msgType            = 2;            // message type (Req, Ack, Nak)
	// required string description    = 3;            // Debug description

	optional EndPointVector endPoints = 300;          // Vector of endPoints ( network interface )
	optional Hello          hello     = 301;          // Hello message

	optional string command           = 200;          // optimal string to send a txt command
	optional string answer            = 201;          // optinal string to receive a txt answer
	optional bool   error             = 202;          // Flag to indicat if there was an error
	optional int32  sender_id         = 203;          // Id of the packet sender ( delilah )
}

