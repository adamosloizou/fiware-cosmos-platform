# #############################################################################
#
# interrupted - 
#
function interrupted
{
	echo
	echo "  Test interrupted by user - not reported as error"
	exit 0
}

trap interrupted SIGINT



# #############################################################################
#
# Main header for the test
#
function mainHeader
{
	clear
	echo
	echo "--------------- $ProgDescription ---------------"
	echo
}



# #############################################################################
#
# samsonProcesses - 
#
function samsonProcesses
{
	echo '------------------------ Samson Platform process list ------------------------'
	ps aux | egrep '  [0-9]*:[0-9]* samsonWorker|  [0-9]*:[0-9]* samsonController|  [0-9]*:[0-9]* samsonSpawner' | grep -v '<defunct>'
	echo '------------------------------------------------------------------------------'
}



# #############################################################################
#
# check - request user input to continue/terminate the test
#
function check
{
	read -N 1 -p "$1"

	if [ "$REPLY" != "y" ] && [ "$REPLY" != "Y" ]
	then
		echo
		echo "  Test interrupted by user - reported as error"

		if [ $(type -t cleanup) == "function" ]
		then
			cleanup
		fi

		exit 1
	fi

	echo
	echo OK
	echo
}



# #############################################################################
#
# testHeader - 
#
function testHeader()
{
	mainHeader
	echo
	echo $1
	echo "------------------------------------------------------------------------"
	echo
}
