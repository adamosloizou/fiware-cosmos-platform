


Module string
{
	title	"String manipulation"
	author	"Andreu Urruela"
	version "0.1"
}


data HitsState
{
	vector system.Hit hits;			# Top hits associated with the previous one  
}



reduce reduceHitCounts
{
	in system.String system.UInt
	in system.String system.HitCount

	out system.UInt system.Hit		# Output top entries during this operation
	out system.String system.HitCount	# Output state

	helpLine "Aggregation of the hits per string"
}

parserOut getHitCounts
{
	in system.String system.HitCount

	helpLine "Just get the current hits per word"
}



reduce reduceHits
{
	in system.UInt system.Hit
	in system.UInt string.HitsState

	out system.UInt string.HitsState

	helpLine "Reduce to accumulate top entries"

}