SET (SOURCES
    Module.cpp		# Autogenerated with samsonModuleParser
    ModuleImpl.cpp
)

SET (HEADERS
    Module.h		# Autogenerated with samsonModuleParser
    Datas.h
)

# Generate 'Module.cpp' and 'Module.h' from ''Module''
add_custom_command (
  OUTPUT           ${CMAKE_CURRENT_SOURCE_DIR}/Module.h
  OUTPUT	   ${CMAKE_CURRENT_SOURCE_DIR}/Module.cpp
  COMMAND          ${PROJECT_BINARY_DIR}/apps/samsonModuleParser/samsonModuleParser ${CMAKE_CURRENT_SOURCE_DIR}/example.module -output ${CMAKE_CURRENT_SOURCE_DIR}/Module
  MAIN_DEPENDENCY  example.module
)

ADD_LIBRARY(example MODULE ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES( example logMsgStatic )

include_directories("${PROJECT_SOURCE_DIR}/libs/logMsg")
include_directories("${PROJECT_SOURCE_DIR}/libs/module")


INSTALL(TARGETS example DESTINATION /var/samson/modules)
INSTALL(FILES ${HEADERS} DESTINATION include/samson/modules/example)
