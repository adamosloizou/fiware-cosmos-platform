@(oauthProfile: es.tid.cosmos.api.auth.oauth2.OAuthUserProfile,
  cosmosProfile: es.tid.cosmos.api.profile.CosmosProfile)(implicit request: RequestHeader)
@import play.api.Play.current
@import es.tid.cosmos.api.controllers.{routes => controllerRoutes}
@import es.tid.cosmos.api.controllers.cosmos.{routes => cosmosRoutes}
@import es.tid.cosmos.api.controllers.common.AbsoluteUrl
@import es.tid.cosmos.api.controllers.pages
@import es.tid.cosmos.api.profile.NamedKey
<!--
 Telefónica Digital - Product Development and Innovation

 THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND,
 EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE.

 Copyright (c) Telefónica Investigación y Desarrollo S.A.U.
 All rights reserved.
 -->
@main("Cosmos user profile") {
    <script type="text/javascript" src="@routes.Assets.at("js/profile.js")"></script>
} {
    @navigation("profile")

    <h1 class="page-title">Profile for @oauthProfile.contact</h1>

    <ul>
        <li>User handle: <strong id="handle">@cosmosProfile.handle</strong></li>
        <li>Public keys
            @for(NamedKey(name, signature) <- cosmosProfile.keys) {
                <div class="key noedit" data-name="@name">
                    <a class="edit-key" href="#">edit</a>
                    <div class="name">@name</div>
                    <div class="signature">@signature</div>
                    <form id="form-key-@name">
                        <p><strong>Warning!</strong> This key change will be in effect only for
                        newly created clusters. Existing ones won't be updated.</p>

                        <dl>
                            <dt><label>New key:</label></dt>
                            <dd>
                                <textarea></textarea>
                                <div class="edit-key-error" style="display: none"></div>
                            </dd>
                        </dl>

                        <input type="submit" class="submit" value="Update"></input>
                        <a class="cancel-edit" href="#">Cancel</a>
                    </form>
                </div>
            }
        </li>
    </ul>

    <p><strong>Next steps!</strong> Learn how to <a href="@pages.routes.Pages.customGettingStarted()">get
    started</a>.</p>
}
