{% extends "admin/base.html" %}

{% load i18n %}

{% block content %}
<div id="content-main">
	<h1 class="h-title">{{ "BDP Configuration" }}</h1>
	<a>{{ "1. Ingestion" }}</a> &rsaquo;&rsaquo;&rsaquo;
    <a id="a-ingestion">{{ "2. Pre-processing" }}</a> &rsaquo;&rsaquo;&rsaquo;
	<a>{{ "3. Processing and Consumption" }}</a><br/><br/>
    <form {% if form.form.is_multipart %}enctype="multipart/form-data" {% endif %}method="post" action="" id="{{ opts.module_name }}_form">{% csrf_token %}
        <div>
            {% if form.form.errors %}
            <p class="errornote">
                {% blocktrans count form.form.errors|length as counter %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
            </p>
            <ul class="errorlist">
                {% for error in form.form.non_field_errors %}
                <li>{{ error }}</li>{% endfor %}
            </ul>
            {% endif %}
            <h2 class="h-label">{{ "Extension" }}</h2>
            <div class="pre-div">
			    <div class="pre-div-left">
			        {{ form.message.errors }}
			        <label for="id_type">Extension Filter</label>
			        {{ form.extension }}		       
			    </div>
			    <div class="pre-div-right">
			        {{ form.message.errors }}
			        <label class="label-form-2" for="id_type">Extension Values</label>
			         {{ form.extension_values }}
			    </div>	
			</div>
			<h2 class="h-label">{{ "Third Party" }}</h2>
			<div class="pre-div">
			    <div class="pre-div-left">
			        {{ form.message.errors }}
			        <label for="id_type">Third Party Filter</label>
			        {{ form.thirdParty }}		        
			    </div>  
			    <div class="pre-div-right">
			        {{ form.message.errors }}
			        <label class="label-form-2" for="id_type">Third Party Values</label>
			        {{ form.thirdParty_values }}
			    </div>	
			 </div>
			 <h2 class="h-label">{{ "Personal Info" }}</h2>
			 <div class="pre-div">
			     <div class="pre-div-left">
			        {{ form.message.errors }}
			        <label for="id_type">Personal Info Filter</label>
			        {{ form.personalInfo }}
			    </div>
			    <div class="pre-div-right">
			        {{ form.message.errors }}
			        <label class="label-form-2" for="id_type">Personal Info Values</label>
			        {{ form.personalInfo_values }}
			    </div>		     		    
			 </div><br/>
			
            <input type="hidden" name="{{ step_field }}" value="{{ step0 }}" />
            {{ previous_fields|safe }}
			
			 <div id="buttons-div" class="submit-row" align="right">
             	<input type="reset" value="Cancel" class="button" name="_cancel"/>
            	<input type="button" value="&laquo; Back" class="button"/>
               	<input type="submit" value="{% ifequal step step_count %}Finish{% else %}Next &raquo;{% endifequal %}" class="button" name="_save"/>                            	                      
            </div>

            <script type="text/javascript">document.getElementById("{{ form.first_field.auto_id }}").focus();</script>
        </div>
    </form>
</div>
{% endblock %}