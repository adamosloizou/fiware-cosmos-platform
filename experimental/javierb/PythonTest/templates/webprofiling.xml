<action name="PAGE_VIEWS_PROT">
	<map-reduce>
		<job-tracker>${jobTracker}</job-tracker>
		<name-node>${nameNode}</name-node>
		<configuration>
			<property>
				<name>mapred.job.queue.name</name>
					<value>${queueName}</value>
			</property>
			<property>
				<name>mapred.mapper.new-api</name>
					<value>true</value>
			</property>
			<property>
					<name>mapred.reducer.new-api</name>
					<value>true</value>
			</property>
			<property>
				<name>mapreduce.map.class</name>
				<value>es.tid.ps.kpicalculation.KpiGenericMapper</value>
			</property>
			<property>
				<name>mapreduce.partitioner.class</name>
				<value>es.tid.ps.kpicalculation.KpiPartitioner</value>
			</property>
			<property>
				<name>mapreduce.combine.class</name>
				<value>es.tid.ps.kpicalculation.KpiCounterCombiner</value>
			</property>
			<property>
				<name>mapreduce.reduce.class</name>
				<value>es.tid.ps.kpicalculation.KpiCounterReducer</value>
			</property>
			<property>
				<name>mapred.output.key.comparator.class</name>
				<value>es.tid.ps.kpicalculation.PageViewKpiCounterComparator</value>
			</property>
			<property>
				<name>mapred.output.value.groupfn.class</name>
				<value>es.tid.ps.kpicalculation.PageViewKpiCounterComparator</value>
			</property>
			<property>
				<name>mapred.map.tasks</name>
				<value>100</value>
			</property>
			<property>
				<name>mapreduce.inputformat.class</name>
				<value>com.twitter.elephantbird.mapreduce.input.LzoProtobufB64LineInputFormat</value>
			</property>
			<property>
				<name>elephantbird.class.for.MultiInputFormat</name>
				<value>es.tid.ps.kpicalculation.data.KpiCalculationProtocol$WebProfilingLog</value>
			</property>
			<property>
				<name>mapred.mapoutput.key.class</name>
				<value>es.tid.ps.base.mapreduce.SingleKey</value>
			</property>
			<property>
				<name>mapred.mapoutput.value.class</name>
				<value>org.apache.hadoop.io.IntWritable</value>
			</property>
			 <property>
				<name>mapred.output.key.class</name>
				<value>org.apache.hadoop.io.Text</value>
			</property>
			<property>
				<name>mapred.output.value.class</name>
				<value>org.apache.hadoop.io.IntWritable</value>
			</property>
			<property>
				<name>mapreduce.outputformat.class</name>
				<value>org.apache.hadoop.mapreduce.lib.output.TextOutputFormat</value>
			</property>
			<property>
				<name>kpi.aggregation.group</name>
				<value> </value>
			</property>
			<property>
				<name>kpi.aggregation.fields</name>
				<value> </value>
			</property>
			<property>
				<name>mapred.output.compress</name>
				<value>true</value>
			</property>
			<property>
				<name>mapred.output.compression.codec</name>
				<value>com.hadoop.compression.lzo.LzopCodec</value>
			</property>
			<property>
				<name>mapred.input.dir</name>
				<value> </value>
			</property>
			<property>
				<name>mapred.output.dir</name>
				<value> </value>
			</property>
		</configuration>
	</map-reduce>
	<ok to="end"/>
	<error to="fail"/>
</action>