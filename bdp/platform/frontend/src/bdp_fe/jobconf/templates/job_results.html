{% extends "base.html" %}
{% load jobs_extras %}

{% block content %}
    <h2> These are your results </h2>
    {% if job_results %}
        <table id="job-results-table">
            {% for job_result in job_results.object_list %}
            <tr>
                {% for key, value in job_result.items %}

		    {% if key not in hidden_keys %}
		    <td class="job-result-key"><b>{{ key }}</b></td>
		        {% if value|get_type != 'dict' and value|get_type != 'list' %}
		            <td class="job-result-value">{{ value }}</td>
                        {%endif%}
			{% if value|get_type == 'list'%}
			    {% for list_item in value %}
				<td class="job-result-value">{{ list_item }}</td>
                            {% endfor %}
		        {% endif %}
			{% if  value|get_type == 'dict'%}
			    {% for dict_val in value.values %}
				<td class="job-result-value">{{ dict_val }}</td>
			    {% endfor %}
		        {% endif %}
		    {% endif %}

	        {% endfor %}
            </tr>
            {% endfor %}
        </table>
    {% else %}
        There were no results
    {% endif %}

    <!-- Pagination -->
    <div class="pagination">
        <span class="step-links">
            {% if job_results.has_previous %}
                <a href="?page={{ job_results.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">
                Page {{ job_results.number }} of {{ job_results.paginator.num_pages }}.
            </span>

            {% if job_results.has_next %}
                <a href="?page={{ job_results.next_page_number }}">next</a>
            {% endif %}
        </span>
    </div>
{% endblock %}

{# vim:set syntax=htmldjango: #}
